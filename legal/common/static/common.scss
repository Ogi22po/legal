//
// common/static/common.scss
//
// Copyright (C) 2011-17 Tomáš Pecina <tomas@pecina.cz>
//
// This file is part of legal.pecina.cz, a web-based toolbox for lawyers.
//
// This application is free software: you can redistribute it and/or
// modify it under the terms of the GNU General Public License as
// published by the Free Software Foundation, either version 3 of the
// License, or (at your option) any later version.
//
// This application is distributed in the hope that it will be useful,
// but WITHOUT ANY WARRANTY; without even the implied warranty of
// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
// GNU General Public License for more details.
//
// You should have received a copy of the GNU General Public License
// along with this program.  If not, see <http://www.gnu.org/licenses/>.
//

@import "include";


// general rules

body {
    margin: 0;
    background-color: $light-blue;
    font-size: $normal;
    font-family: Verdana, "DejaVu Sans", sans-serif;
}

body, .immune {
    color: $very-dark-blue;
}

h1 {
    text-align: center;
    font-size: $gigantic;
    margin: {
	top: $vg;
	bottom: $vl;
    }
}

table {
    border-collapse: collapse;
    & > thead > tr > th {
	text-align: center;
	font-weight: bold;
    }
    & > tbody, & > tfoot {
	& > tr > th {
	    text-align: right;
	    font-weight: normal;
	    padding: $vt $hs $vt 0;
	}
    }
    & > thead, & > tbody, & > tfoot {
	 & > tr > td {
	    text-align: left;
	    padding: $vt $ht;
	}
    }
    & > tfoot > tr {
	& > th {
	    text-align: right;
	}
	& > td {
	    text-align: left;
	}
    }
}

a {
    color: $dark-blue;
    text-decoration: none;
    &:hover {
	color: $red;
    }
}

hr {
    border: none;
    height: $bs;
    background-color: $border-blue;
}

fieldset {
    border: {
	style: solid;
	width: $bs;
	color: $border-blue;
    }
    padding: $vt $hm $vs;
    legend {
	padding: 0 $hs;
    }
    div {
	margin: $vm $hm;
    }
    hr {
	margin: {
	    left: (-$hm);
	    right: (-$hm);
	}
    }
}

input[type="text"], input[type="email"], input[type="password"], textarea, input[type="submit"], input[type="reset"], select {
    font-size: $reduced;
}

input[type="text"], input[type="email"], input[type="password"], textarea {
    padding: $vt $hs 0;
    border: {
	style: inset;
	width: $bs;
	color: $gray;
    }
}

input {
    margin: $vs 0 $vt;
    padding: $vn $ht;
    &[type="submit"], &[type="reset"] {
	padding: $vt $hm 0;
    }
    &[type="file"] {
	padding-left: 0;
    }
    &[type="radio"] {
	margin: $vs ($ht+$hn) 0 $hs;
    }
    &[type="checkbox"] {
	vertical-align: middle;
	& + span {
	    margin-right: $hl;
	}
    }
}

select {
    padding: $vn $ht;
}

label {
    & input[type="radio"] {
	margin-left: $hm;
    }
    &:first-child input[type="radio"] {
	margin-left: ($ht+$hn);
    }
}

form {
    span, label, input {
	vertical-align: initial;
    }
    input + span, span + input, span + span {
	margin-left: $hm;
    }
    input + label, label + input, label + span, span + select, select + span, input + select, select + input,
    input + input, label + select, a + a {
	margin-left: ($hs+$ht);
    }
}

a + span, span + a {
    margin-left: ($hs+$ht);
}

svg {
    fill: $dark-blue;
    stroke: none;
}

a svg:hover {
    fill: $red;
}


// specific rules

tr.ga {
    th, td {
	padding-bottom: $vl;
    }
}

table.topline {
    width: 100%;
    tbody tr {
	td {
	    padding: $vt $hs $vs;
	    text-align: center;
	    background-color: $medium-blue;
	    font-size: $small;
	    white-space: nowrap;
	    span + span, span + a, a + span {
		margin-left: $hs;
	    }
	    &:first-child, &:last-child {
		width: 50%;
	    }
	    &:first-child {
		text-align: left;
	    }
	    &:last-child {
		text-align: right;
	    }
	}
    }
}

table.container {
    width: 85%;
    margin: 0 auto;
    & > tbody > tr > td > p {
	text-align: center;
    }
}

p.notice {
    margin: {
	top: $vg;
	bottom: $vl;
    }
    text-align: center;
    font-size: $tiny;
}

table {
    &.centered, &.form, &.list, &.detail {
	margin: 0 auto;
    }
}

table.form {
    thead, tbody {
	tr td h1 {
	    text-align: left;
	}
    }
}

table.list, table.detail {
    thead, tfoot {
	tr {
	    th, td {
		background-color: $medium-blue;
	    }
	}
    }
}

table.list {
    thead th, tbody td, tfoot td {
	padding: ($vs+$vn) ($hm+$hs);
    }
    tbody {
	tr:nth-child(even) td {
	    background-color: $gray;
	}
	tr:nth-child(odd) td {
	    background-color: $white;
	}
    }
    thead tr th:first-child, tbody tr td:first-child, tfoot tr td:first-child {
	padding-left: ($hl+$hs);
    }
    thead tr th:last-child, tbody tr td:last-child, tfoot tr td:last-child {
	padding-right: ($hl+$hs);
    }
    tbody tr td.act {
	text-align: center;
	white-space: nowrap;
	a + a {
	    margin-left: $hm;
	}
    }
    tfoot tr td.pager {
	text-align: right;
	span {
	    color: $dark-blue;
	    span:first-child {
		padding-right: ($hm+$hs);
	    }
	    span:last-child {
		padding-left: ($hm+$hs);
	    }
	    span.num {
		padding: {
		    left: ($hm+$hs);
		    right: ($hm+$hs);
		}
	    }
	}
	span.disabled svg {
	    fill: $gray;
	}
    }
    hr {
	margin: {
	    top: $vt;
	    bottom: $vn;
	}
	border-bottom: 0;
    }
}

h1 + table.list {
    margin-top: $vh;
}

table.detail {
    thead tr th {
	padding: {
	    top: $vm;
	    bottom: $vm;
	}
	background-color: $medium-blue;
	font-size: $large;
	font-weight: bold;
	text-align: center;
	font-size: $large;
    }
    tbody {
	tr {
	    th, td {
		font-weight: normal;
		background-color: $white;
		padding: {
		    top: 0;
		    bottom: $vm;
		}
	    }
	    th {
		padding: {
		    left: $hl;
		    right: $ht;
		}
	    }
	    td {
		padding: {
		    left: $hs;
		    right: $hl;
		}
	    }
	    &.even {
		th, td {
		    background-color: $gray;
		}
	    }
	    &.odd {
		th, td {
		    background-color: $white;
		}
	    }
	}
	tr:first-child, tr.odd + tr.even, tr.even + tr.odd {
	    th, td {
		padding-top: $vs;
	    }
	}
    }
    & + & {
	margin-top: ($vh+$vl);
    }
}

table.email {
    margin: $vh auto;
}

h1.list {
    margin-bottom: 0;
    & + div.subtitle {
	font: {
	    style: italic;
	    size: $normal;
	}
	text-align: center;
	margin: {
	    top: $vt;
	    bottom: $vh;
	}
    }
}

tr.submit td {
    padding-top: $vm;
}

span {
    &.currwidget, &.dw-today {
	white-space: nowrap;
    }
    &.currwidget select:first-child {
	margin-right: $hs;
    }
    &.dw-today input:first-child {
	margin-right: 0;
    }
}

p.back {
    margin-top: ($vh+$vl);
    margin-bottom: $vl;
}

p.confirm {
    text-align: center;
    input:last-child {
	margin-left: $hm;
    }
}

div.warning {
    padding: $vm $hh;
    margin-bottom: $vl;
    border: {
	style: solid;
	width: $bd;
    }
    background-color: $medium-blue;
    text-align: center;
}

.highlight {
    color: $red;
}

.disabled {
    color: $neutral-gray;
}

.err th, .err label, th.err, span.err {
    color: $red;
}

.err input[type="text"], .err input[type="email"], .err input[type="password"], .err textarea, input[type="text"].err, input[type="email"].err, input[type="password"].err {
    background: $pink;
}

td.msg {
    div {
	text-align: center;
	padding: 0 $hm;
	white-space: nowrap;
    }
    hr:first-child {
	margin-top: ($vh+$vl);
    }
}

input.toupper {
    text-transform: uppercase;
}

td.inlop {
    white-space: nowrap;
    input[type="radio"] {
	margin: {
	    right: $hn;
	    left: $hn;
	}
    }
    label {
	margin-left: $hl;
	&:first-child {
	    margin-left: 0;
	}
    }
}


// manual styling

.center {
    text-align: center;
}

.right {
    text-align: right;
}

.nowrap {
    white-space: nowrap;
}


// jQuery UI
.ui-widget-header,
.ui-widget-content {
    color: $very-dark-blue;
}
div.ui-datepicker,
div.ui-widget.ui-widget-content {
    font-size: 14px;
    background-color: $light-blue;
    border: 2px solid $border-blue;
    padding: 0;
    width: auto;
}
div.ui-datepicker div.ui-datepicker-header div.ui-datepicker-title {
    margin-top: 2px;
}
div.ui-datepicker a.ui-datepicker-prev span,
div.ui-datepicker a.ui-datepicker-next span {
    width: 10px;
}
div.ui-datepicker a.ui-datepicker-prev,
div.ui-datepicker a.ui-datepicker-next {
    width: 25px;
    height: 25px;
    top: 4px;
}
div.ui-datepicker a.ui-datepicker-prev {
    left: 5px;
}
div.ui-datepicker a.ui-datepicker-next {
    right: 5px;
}
div.ui-datepicker a.ui-datepicker-prev,
div.ui-datepicker a.ui-datepicker-next {
    background-color: transparent;
    border: none;
}
div.ui-datepicker a.ui-datepicker-prev span {
    background-image: url("/static/b.svg");
    background-position: initial;
    left: 10px;
}
div.ui-datepicker a.ui-datepicker-prev span:hover {
    background-image: url("/static/br.svg");
    background-position: initial;
    left: 10px;
}
div.ui-datepicker a.ui-datepicker-next span {
    background-image: url("/static/f.svg");
    background-position: initial;
    left: 20px;
}
div.ui-datepicker a.ui-datepicker-next span:hover {
    background-image: url("/static/fr.svg");
    background-position: initial;
    left: 20px;
}
div.ui-datepicker th,
div.ui-datepicker td span,
div.ui-datepicker td a {
    padding: 3px 5px;
    text-align: right;
}
div.ui-datepicker div.ui-datepicker-header {
    border: none;
    padding: 0;
    background-color: $medium-blue;
}
table.ui-datepicker-calendar {
    font-size: 14px;
    margin: 2px 0;
}
.ui-corner-all {
    border-radius: 0;
}
a.ui-state-active {
    background-color: $medium-blue;
}
td.ui-datepicker-other-month a {
    color: $white;
}
div.ui-datepicker div.ui-widget-header a:hover {
    color: $red;
}
table.ui-datepicker-calendar a.ui-state-default {
    color: $very-dark-blue;
    background-color: $white;
    border: none;
}
.ui-widget-content .ui-state-default {
    border: none;
}
td.ui-datepicker-today a {
    background-color: $medium-blue;
}
.ui-priority-secondary,
.ui-widget-content .ui-priority-secondary,
.ui-widget-header .ui-priority-secondary,
td.ui-datepicker-other-month a.ui-priority-secondary {
    opacity: 1;
    filter: Alpha(Opacity=100);
    color: $neutral-gray;
}
table.ui-datepicker-calendar tr td:first-child {
    padding-left: 4px;
}
table.ui-datepicker-calendar tr td:last-child {
    padding-right: 4px;
}
table.ui-datepicker-calendar tr:last-child td {
    padding-bottom: 2px;
}
.ui-state-highlight, .ui-widget-content .ui-state-highlight, .ui-widget-header .ui-state-highlight {
    border: none;
    background: $medium-blue;
    color: $very-dark-blue;
}
table.ui-datepicker-calendar td.ui-datepicker-current-day a,
table.ui-datepicker-calendar td.ui-datepicker-current-day.ui-datepicker-today a.ui-state-active,
table.ui-datepicker-calendar td.ui-datepicker-current-day a.ui-state-active {
    background-color: $dark-blue;
    color: $white;
}
table.ui-datepicker-calendar td.ui-datepicker-today a.ui-state-default {
    background-color: $medium-blue;
    color: $very-dark-blue;
}
table.ui-datepicker-calendar .ui-state-active.ui-state-highlight:hover,
table.ui-datepicker-calendar td.ui-datepicker-current-day a.ui-state-active:hover,
table.ui-datepicker-calendar a.ui-state-hover {
    background-color: $red;
    color: $white;
}
table.ui-datepicker-calendar td.ui-datepicker-week-end a.ui-state-default {
    font-weight: bold;
}
